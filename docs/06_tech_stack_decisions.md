# 06_TECH_STACK_DECISIONS

> 本文档用于**一次性确定技术路线的“硬边界”**，避免在后续开发中反复摇摆。
>
> 所有技术选择均以 `02_SYSTEM_OVERVIEW.md` 为最高约束。

---

## 1. 总体技术目标

- 优先满足：**个人长期使用、低维护成本、心理负担小**
- 不以规模化、商业化或多用户为目标
- 技术方案应：
  - 易于本地运行
  - 易于迁移
  - 不依赖重型基础设施

---

## 2. 客户端形态选择

### 决策结论

**采用 PWA（Progressive Web App）作为当前阶段唯一客户端形态。**

### 选择原因

- 无需应用市场上架
- 无需开发原生 Android / iOS 客户端
- 可直接通过浏览器使用
- 支持添加到桌面，具备“类 App”体验

### 明确不做

- 不使用 uni-app / Taro 等多端框架
- 不开发原生 Android App
- 不考虑多端同步需求

---

## 3. 前端技术栈

### 核心框架

- **Vue 3**
- Composition API

### UI 层原则

- 极简 UI
- 减少状态噪音
- 不追求视觉复杂度

（具体 UI 框架可后续决定，不在本阶段锁死）

---

## 4. 数据存储策略

### 当前阶段（单设备 / 单用户）

- **默认数据仅存储在本地设备**
- 使用浏览器本地存储能力（IndexedDB）

系统假设：
- 用户可接受数据仅存在于当前设备
- 不要求跨设备实时同步

### 本地存储原则

- 所有核心数据必须可导出
- 不依赖云端可运行
- 升级代码不应破坏已有数据

---

## 5. 同步与备份策略（未启用）

### 当前状态

- 不启用自动云同步
- 不要求用户注册账号
- 不维护服务器

### 预留方向（仅结构预留）

- 手动导出 / 导入数据
- 后续可选：
  - 私有云同步
  - WebDAV / Git / 文件级备份

任何同步能力的引入，必须：
- 不改变现有本地优先模型
- 不成为系统核心依赖

---

## 6. 后端与服务器立场

### 决策结论

**当前阶段不引入后端服务。**

- 不购买服务器
- 不维护数据库实例
- 不引入账号系统

所有逻辑在客户端完成。

---

## 7. AI / 自动化工具的使用边界

- AI 仅作为开发辅助工具存在
- 不作为运行时依赖
- 不直接访问用户数据

AI 行为受以下文档约束：
- `01_SYSTEM_PROMPT.md`
- `07_AI_COLLABORATION_RULES.md`

---

## 8. 技术决策稳定性声明

除非出现以下情况，否则本技术栈不调整：

- 核心使用场景发生变化
- 用户从“单人使用”转为“多用户协作”
- 数据规模或隐私需求发生质变

在上述情况出现前：

> **停止技术纠结，进入稳定开发。**

---

## 9. 总结

- PWA + Vue 3
- 本地优先（IndexedDB）
- 无服务器、无账号、无云依赖
- 可迁移、可导出、可长期使用

> **这是一个为“可控与安心”服务的技术选择，而非为扩展性炫技。**

